<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload = function () {
            const hobbies = document.getElementsByName("hobby")
            const allBtn = document.getElementById("all")
            const noBtn = document.getElementById("no")
            const reverseBtn = document.getElementById("reverse")
            const sendBtn = document.getElementById("send")
            const checkAllBox = document.getElementById("check-all")

            allBtn.onclick = function () {
                for (let i = 0; i < hobbies.length; i++) {
                    // hobbies[i].checked = "checked"
                    hobbies[i].checked = true
                    // hobbies[i].setAttribute("checked",true)
                }
                checkAllBox.checked = true
            }

            noBtn.onclick = function () {
                for (let i = 0; i < hobbies.length; i++) {
                    hobbies[i].checked = false
                    // hobbies[i].removeAttribute("checked")
                }
                checkAllBox.checked = false
            }

            reverseBtn.onclick = function () {
                for (let i = 0; i < hobbies.length; i++) {
                    // if (hobbies[i].checked) {
                    //     hobbies[i].checked = false
                    // } else {
                    //     hobbies[i].checked = true
                    // }

                    hobbies[i].checked = !hobbies[i].checked
                }
                const checkedBox = document.querySelectorAll("[name=hobby]:checked")

                if (hobbies.length === checkedBox.length) {
                    checkAllBox.checked = true
                } else {
                    checkAllBox.checked = false
                }
            }

            sendBtn.onclick = function () {
                for (let i = 0; i < hobbies.length; i++) {
                    if (hobbies[i].checked) {
                        alert(hobbies[i].value)
                    }

                    // hobbies[i].checked && alert(hobbies[i].value)
                }
            }


            checkAllBox.onchange = function () {
                // console.log(this);
                // 在事件的响应函数中，响应函数绑定给谁 this就是谁（箭头函数除外）

                for (let i = 0; i < hobbies.length; i++) {
                    // hobbies[i].checked = checkAllBox.checked
                    hobbies[i].checked = this.checked
                }
            }

            for (let i = 0; i < hobbies.length; i++) {
                hobbies[i].onchange = function () {

                    const checkedBox = document.querySelectorAll("[name=hobby]:checked")

                    if (hobbies.length === checkedBox.length) {
                        checkAllBox.checked = true
                    } else {
                        checkAllBox.checked = false
                    }
                }
            }
        }
    </script>
</head>

<body>
    <div>
        <form action="#">

            <div>
                请选择你的爱好：<input type="checkbox" id="check-all">全选
            </div>
            <div>
                <input type="checkbox" name="hobby" value="乒乓球">乒乓球
                <input type="checkbox" name="hobby" value="篮球">篮球
                <input type="checkbox" name="hobby" value="羽毛球">羽毛球
                <input type="checkbox" name="hobby" value="足球">足球
            </div>
            <div>
                <button type="button" id="all">全选</button>
                <button type="button" id="no">取消</button>
                <button type="button" id="reverse">反选</button>
                <button type="button" id="send">发送</button>
            </div>
        </form>
    </div>
</body>

</html>